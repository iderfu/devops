---
category: Python
---

# 4.2 函数参数

函数在定义是要定义好形式参数，调用时也提供足够的实际参数，一般来说，形参和实参个数要一致（可变参数除外）。

## 实参传参方式

1、位置传参

定义时def f(x, y, z)， 调用使用 f(1, 3, 5)，按照参数定义顺序传入实参

2、关键字传参

定义时def f(x, y, z)，调用使用 f(x=1, y=3, z=5)，使用形参的名字来传入实参的方式，如果使用了形参名字，那么传参顺序就可和定义顺序不同

要求位置参数必须在关键字参数之前传入，位置参数是按位置对应的

> 切记：传参指的是调用时传入实参，就2种方式。

下面讲的都是形参定义。

## 形参

### 形参缺省值

缺省值也称为默认值，可以在函数定义时，为形参增加一个缺省值。其作用：

* 参数的默认值可以在未传入足够的实参的时候，对没有给定的参数赋值为默认值
* 参数非常多的时候，并不需要用户每次都输入所有的参数，简化函数调用

### 可变参数

需求：写一个函数，可以对多个数累加求和

```python
def sum(iterable):
	s = 0
	for x in iterable:
		s += x
	return s

print(sum([1,3,5]))
print(sum(range(4)))
```

上例，传入可迭代对象，并累加每一个元素。

也可以使用可变参数完成上面的函数。

```python
def sum(*nums):
	sum = 0
	for x in nums:
		sum += x
	return sum

print(sum(1, 3, 5))
print(sum(1, 2, 3))
```

1、可变位置参数

* 在形参前使用 * 表示该形参是可变位置参数，可以接受多个实参
* 它将收集来的实参组织到一个 tuple 中

2、可变关键字参数

* 在形参前使用 ** 表示该形参是可变关键字参数，可以接受多个关键字参数
* 它将收集来的实参的名称和值，组织到一个dict中

总结：

* 有可变位置参数和可变关键字参数
* 可变位置参数在形参前使用一个星号*
* 可变关键字参数在形参前使用两个星号**
* 可变位置参数和可变关键字参数都可以收集若干个实参，可变位置参数收集形成一个tuple，可变关键字参数收集形成一个dict
* 混合使用参数的时候，普通参数需要放到参数列表前面，可变参数要放到参数列表的后面，可变位置参数需要在可变关键字参数之前

### keyword-only参数

在Python3之后，新增了keyword-only参数。

keyword-only参数：在形参定义时，在一个*星号之后，或一个可变位置参数之后，出现的普通参数，就已经不是普通的参数了，称为keyword-only参数。

keyword-only参数，言下之意就是这个参数必须采用关键字传参。

### positional-only参数

Python 3.8 开始，增加了最后一种形参类型的定义：Positional-only参数。（2019年10月发布3.8.0）

```python
def fn(a, /):
	print(a, sep='\n')
fn(3)
fn(a=4) # 错误，仅位置参数，不可以使用关键字传参
```

### 参数规则

参数列表参数一般顺序是：positional-only参数、普通参数、缺省参数、可变位置参数、keyword-only参数（可带缺省值）、可变关键字参数。
注意：

* 代码应该易读易懂，而不是为难别人
* 请按照书写习惯定义函数参数
* 定义最常用参数为普通参数，可不提供缺省值，必须由用户提供。注意这些参数的顺序，最常用的先定义
* 将必须使用名称的才能使用的参数，定义为keyword-only参数，要求必须使用关键字传参
* 如果函数有很多参数，无法逐一定义，可使用可变参数。如果需要知道这些参数的意义，则使用可变关键字参数收集

### 参数解构

参数解构：

* 在给函数提供实参的时候，可以在可迭代对象前使用 * 或者 ** 来进行结构的解构，提取出其中所有元素作为函数的实参
* 使用 * 解构成位置传参
* 使用 ** 解构成关键字传参
* 提取出来的元素数目要和参数的要求匹配